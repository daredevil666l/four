<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        
        h1, h2 {
            text-align: center;
            color: #333;
        }
        
        .author {
            text-align: center;
            margin: 15px 0 25px;
            font-weight: bold;
            font-size: 18px;
            color: #2196F3;
            padding: 10px;
            border-bottom: 2px solid #2196F3;
            background-color: #e7f3fe;
            border-radius: 4px;
        }
        
        .note {
            text-align: center;
            margin: 0 auto 25px;
            padding: 10px 15px;
            background-color: #fff3cd;
            border-left: 6px solid #ffc107;
            border-radius: 4px;
            max-width: 80%;
            font-size: 16px;
        }
        
        .note::before {
            content: "üìù ";
            font-size: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        .grid-container {
            overflow-x: auto;
            margin-bottom: 20px;
        }
        
        table {
            border-collapse: collapse;
            margin: 0 auto;
            background-color: #fff;
        }
        
        td {
            position: relative;
            text-align: center;
            vertical-align: middle;
        }
        
        .node-cell {
            width: 50px;
            height: 50px;
            padding: 0;
        }
        
        .edge-cell {
            width: 35px;
            height: 35px;
            padding: 0;
        }
        
        .node {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #000;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: auto;
            font-weight: bold;
            background-color: #fff;
        }
        
        .start-node {
            background-color: #b3d9ff;
        }
        
        .end-node {
            background-color: #b3d9ff;
        }
        
        .path-node {
            background-color: #b3d9ff;
        }
        
        .edge-input {
            width: 30px;
            text-align: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .button-container {
            text-align: center;
            margin: 20px 0;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        .result {
            margin: 20px auto;
            padding: 15px;
            background-color: #e7f3fe;
            border-left: 6px solid #2196F3;
            border-radius: 4px;
        }
        
        /* –°—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É—Ç–∏ */
        .arrow-right::after {
            content: "‚Üí";
            position: absolute;
            right: -20px;
            font-weight: bold;
        }
        
        .arrow-up::after {
            content: "‚Üë";
            position: absolute;
            top: -20px;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .node {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }
            
            .node-cell {
                width: 40px;
                height: 40px;
            }
            
            .edge-cell {
                width: 25px;
                height: 25px;
            }
            
            .edge-input {
                width: 25px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏</h1>
        <div class="author">–í—ã–ø–æ–ª–Ω–∏–ª –°—Ç—É–¥–µ–Ω—Ç –ò–í–¢-332–ë –ì–∞–≤—Ä–∏–ª–æ–≤ –ê.–ê.</div>
        <div class="note">–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤–µ—Å–æ–≤ –ø—É—Ç–µ–π, –≤–≤–µ–¥—è —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è.</div>
        
        <div class="grid-container">
            <div id="grid-container">
                <!-- –¢–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é JavaScript -->
            </div>
        </div>
        
        <div class="button-container">
            <button id="calculate-btn">–í—ã—á–∏—Å–ª–∏—Ç—å –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å</button>
        </div>
        
        <div class="result" id="result">
            <p>–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const gridContainer = document.getElementById('grid-container');
            const calculateBtn = document.getElementById('calculate-btn');
            const resultDiv = document.getElementById('result');
            
            // –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É 8x7
            createTable(8, 7);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "–í—ã—á–∏—Å–ª–∏—Ç—å"
            calculateBtn.addEventListener('click', calculateShortestPath);
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
            function createTable(cols, rows) {
                const table = document.createElement('table');
                
                // –ó–Ω–∞—á–µ–Ω–∏—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Ä–µ–±–µ—Ä –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const hEdgeValues = [
                    [10, 14, 8, 10, 14, 13, 15],
                    [11, 12, 10, 9, 14, 12, 12],
                    [9, 9, 10, 11, 10, 10, 14],
                    [8, 10, 13, 12, 12, 14, 15],
                    [10, 14, 12, 10, 10, 13, 10],
                    [9, 9, 10, 12, 15, 15, 9],
                    [10, 8, 10, 15, 13, 12, 11]
                ];
                
                // –ó–Ω–∞—á–µ–Ω–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–±–µ—Ä –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const vEdgeValues = [
                    [10, 13, 10, 11, 12, 10, 10, 13],
                    [12, 12, 12, 12, 11, 15, 11, 11],
                    [11, 12, 11, 13, 10, 12, 12, 15],
                    [10, 11, 10, 14, 10, 11, 13, 10],
                    [12, 10, 11, 15, 15, 12, 14, 10],
                    [15, 12, 12, 13, 14, 10, 8, 9]
                ];
                
                // –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫–∏ —Å —É–∑–ª–∞–º–∏ –∏ —Ä–µ–±—Ä–∞–º–∏
                for (let row = 0; row < rows; row++) {
                    // –°—Ç—Ä–æ–∫–∞ —Å —É–∑–ª–∞–º–∏ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏
                    const nodeRow = document.createElement('tr');
                    
                    for (let col = 0; col < cols; col++) {
                        // –Ø—á–µ–π–∫–∞ —Å —É–∑–ª–æ–º
                        const nodeCell = document.createElement('td');
                        nodeCell.className = 'node-cell';
                        
                        const nodeDiv = document.createElement('div');
                        nodeDiv.className = 'node';
                        nodeDiv.id = `node-${row}-${col}`;
                        
                        // –û—Ç–º–µ—á–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π –∏ –∫–æ–Ω–µ—á–Ω—ã–π —É–∑–ª—ã
                        if (row === rows - 1 && col === 0) {
                            nodeDiv.className += ' start-node';
                            nodeDiv.textContent = 'A';
                        } else if (row === 0 && col === cols - 1) {
                            nodeDiv.className += ' end-node';
                            nodeDiv.textContent = 'B';
                        } else {
                            // –û—Å—Ç–∞–≤–ª—è–µ–º —É–∑–µ–ª –ø—É—Å—Ç—ã–º –¥–ª—è –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –≤–∏–¥–∞
                        }
                        
                        nodeCell.appendChild(nodeDiv);
                        nodeRow.appendChild(nodeCell);
                        
                        // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —Ä–µ–±—Ä–æ (–µ—Å–ª–∏ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ç–æ–ª–±–µ—Ü)
                        if (col < cols - 1) {
                            const hEdgeCell = document.createElement('td');
                            hEdgeCell.className = 'edge-cell';
                            
                            const hInput = document.createElement('input');
                            hInput.type = 'number';
                            hInput.className = 'edge-input';
                            hInput.id = `h-edge-${row}-${col}`;
                            hInput.min = '0';
                            hInput.value = hEdgeValues[row][col]; // –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞
                            
                            hEdgeCell.appendChild(hInput);
                            nodeRow.appendChild(hEdgeCell);
                        }
                    }
                    
                    table.appendChild(nodeRow);
                    
                    // –°—Ç—Ä–æ–∫–∞ —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏ (–µ—Å–ª–∏ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞)
                    if (row < rows - 1) {
                        const edgeRow = document.createElement('tr');
                        
                        for (let col = 0; col < cols; col++) {
                            // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–µ–±—Ä–æ
                            const vEdgeCell = document.createElement('td');
                            vEdgeCell.className = 'edge-cell';
                            
                            const vInput = document.createElement('input');
                            vInput.type = 'number';
                            vInput.className = 'edge-input';
                            vInput.id = `v-edge-${row}-${col}`;
                            vInput.min = '0';
                            vInput.value = vEdgeValues[row][col]; // –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞
                            
                            vEdgeCell.appendChild(vInput);
                            edgeRow.appendChild(vEdgeCell);
                            
                            // –ü—É—Å—Ç–∞—è —è—á–µ–π–∫–∞ –º–µ–∂–¥—É –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º–∏ —Ä–µ–±—Ä–∞–º–∏
                            if (col < cols - 1) {
                                const emptyDiag = document.createElement('td');
                                emptyDiag.className = 'edge-cell';
                                edgeRow.appendChild(emptyDiag);
                            }
                        }
                        
                        table.appendChild(edgeRow);
                    }
                }
                
                gridContainer.appendChild(table);
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏
            function calculateShortestPath() {
                const cols = 8;
                const rows = 7;
                
                // –°–æ–∑–¥–∞–µ–º –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
                const distances = Array(rows).fill().map(() => Array(cols).fill(Infinity));
                
                // –°–æ–∑–¥–∞–µ–º –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —É–∑–ª–æ–≤ –≤ –ø—É—Ç–∏
                const previous = Array(rows).fill().map(() => Array(cols).fill(null));
                
                // –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ (–Ω–∏–∂–Ω–∏–π –ª–µ–≤—ã–π —É–≥–æ–ª)
                distances[rows-1][0] = 0;
                
                // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏
                for (let row = rows - 1; row >= 0; row--) {
                    for (let col = 0; col < cols; col++) {
                        // –ï—Å–ª–∏ –º—ã –Ω–µ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–µ
                        if (!(row === rows - 1 && col === 0)) {
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—É—Ç—å —Å–Ω–∏–∑—É (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
                            if (row < rows - 1) {
                                const edgeValue = parseInt(document.getElementById(`v-edge-${row}-${col}`).value) || 0;
                                const newDistance = distances[row + 1][col] + edgeValue;
                                
                                if (newDistance < distances[row][col]) {
                                    distances[row][col] = newDistance;
                                    previous[row][col] = { row: row + 1, col: col };
                                }
                            }
                            
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—É—Ç—å —Å–ª–µ–≤–∞ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
                            if (col > 0) {
                                const edgeValue = parseInt(document.getElementById(`h-edge-${row}-${col-1}`).value) || 0;
                                const newDistance = distances[row][col - 1] + edgeValue;
                                
                                if (newDistance < distances[row][col]) {
                                    distances[row][col] = newDistance;
                                    previous[row][col] = { row: row, col: col - 1 };
                                }
                            }
                        }
                    }
                }
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—É—Ç—å
                const path = [];
                let current = { row: 0, col: cols - 1 }; // –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ (–≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–∞–≤—ã–π —É–≥–æ–ª)
                
                while (current) {
                    path.unshift(current);
                    current = previous[current.row][current.col];
                }
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                const shortestDistance = distances[0][cols - 1];
                let pathStr = path.map(p => `(${p.row + 1},${p.col + 1})`).join(' ‚Üí ');
                
                resultDiv.innerHTML = `
                    <p><strong>–ö—Ä–∞—Ç—á–∞–π—à–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ:</strong> ${shortestDistance}</p>
                    <p><strong>–ü—É—Ç—å:</strong> ${pathStr}</p>
                `;
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∏ —Å—Ç—Ä–µ–ª–∫–∏
                document.querySelectorAll('.node').forEach(node => {
                    node.className = 'node';
                    if (node.id === 'node-0-7') {
                        node.className += ' end-node';
                        node.textContent = 'B';
                    } else if (node.id === 'node-6-0') {
                        node.className += ' start-node';
                        node.textContent = 'A';
                    } else {
                        node.textContent = '';
                    }
                });
                
                // –í—ã–¥–µ–ª—è–µ–º –ø—É—Ç—å –Ω–∞ —Å–µ—Ç–∫–µ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
                path.forEach((p, index) => {
                    const node = document.getElementById(`node-${p.row}-${p.col}`);
                    node.className += ' path-node';
                    node.textContent = distances[p.row][p.col];
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É—Ç–∏
                    if (index < path.length - 1) {
                        const next = path[index + 1];
                        if (next.row < p.row) {
                            node.classList.add('arrow-up');
                        } else if (next.col > p.col) {
                            node.classList.add('arrow-right');
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
